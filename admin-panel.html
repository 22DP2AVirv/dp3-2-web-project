<!DOCTYPE html>
<html lang="lv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administratora panelis</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/admin-style.css">
    <script>
        // Pārbaudīt, vai lietotājs ir autorizējies, ja nav, novirzīt uz login lapu
        function checkLogin() {
            const isLoggedIn = localStorage.getItem('isLoggedIn');

            if (!isLoggedIn || isLoggedIn !== 'true') {
                // Ja nav autorizējies, novirzīt uz login lapu
                window.location.href = 'admin-login.html';
            }
        }

        // Saukt checkLogin funkciju, kad lapa tiek ielādēta
        window.onload = checkLogin;
    </script>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sānu izvēlne -->
            <div class="col-md-3 sidebar">
                <h2>Admin Panelis</h2>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="admin-panel.html">Lietotāji</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="admin-panel.html">Pakalpojumi</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="admin-panel.html">Cenas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="admin-panel.html">Satura pārvaldība</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="admin-panel.html">Statistika</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="pieteikumi-adm.html">Pieteikumu saraksts</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="logout()">Izlogoties</a>
                    </li>
                </ul>
            </div>

            <!-- Galvenais saturs -->
            <div class="col-md-9">
                <h1>Lietotāju saraksts</h1>
                <button id="addUserBtn" class="btn btn-primary mb-3">Pievienot lietotāju</button>
                <table class="table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Vārds</th>
                            <th>Epasts</th>
                            <th>Tālrunis</th>
                            <th>Reģistrēšanās datums</th>
                            <th>Izmaiņu datums</th>
                            <th>Rediģēt</th>
                        </tr>
                    </thead>
                    <tbody id="userList">
                        <!-- Lietotāju dati -->
                    </tbody>
                </table>

                <!-- Pakalpojumu pārvaldība -->
                <h1>Pakalpojumi</h1>
                <button id="addServiceBtn" class="btn btn-primary mb-3">Pievienot pakalpojumu</button>
                <table class="table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Pakalpojums</th>
                            <th>Apraksts</th>
                            <th>Rediģēt</th>
                        </tr>
                    </thead>
                    <tbody id="serviceList">
                        <!-- Pakalpojumu dati -->
                    </tbody>
                </table>

                <!-- Cenu pārvaldība -->
                <h1>Pakalpojumu cenas</h1>
                <table class="table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Nosaukums</th>
                            <th>Pakalpojums</th>
                            <th>Cena</th>
                            <th>Ievadīšanas datums</th>
                            <th>Izmaiņu datums</th>
                            <th>Rediģēt</th>
                        </tr>                  
                    </thead>
                    <tbody id="priceList">
                        <!-- Cenu dati -->
                    </tbody>
                </table>

            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/admin.js"></script>

    <script>
        // Funkcija izlogoties
        function logout() {
            // Izdzēst pieteikšanās statusu no localStorage
            localStorage.removeItem('isLoggedIn');
            window.location.href = 'admin-login.html'; // Atgriežas uz login lapu
        }

        // Funkcija lietotāju saraksta pievienošanai
        document.getElementById('addUserBtn').addEventListener('click', function() {
            // Piemērs kā pievienot lietotāju
            const userList = document.getElementById('userList');
            const newUser = document.createElement('tr');
            newUser.innerHTML = `
                <td>#</td>
                <td>Jānis Bērziņš</td>
                <td>janis@example.com</td>
                <td>2025-04-08</td>
                <td><button class="btn btn-danger">Dzēst</button></td>
            `;
            userList.appendChild(newUser);
        });

        // Funkcija pakalpojumu saraksta pievienošanai
        document.getElementById('addServiceBtn').addEventListener('click', function() {
            // Piemērs kā pievienot pakalpojumu
            const serviceList = document.getElementById('serviceList');
            const newService = document.createElement('tr');
            newService.innerHTML = `
                <td>#</td>
                <td>Masāža</td>
                <td>Relax masāža ar aromaterapiju</td>
                <td><button class="btn btn-danger">Dzēst</button></td>
            `;
            serviceList.appendChild(newService);
        });
    </script>
</body>
</html>
